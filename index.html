<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Viral+</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#000;color:#fff;font-family:Arial;overflow:hidden}

/* FEED */
#feed{height:100vh;overflow-y:scroll;scroll-snap-type:y mandatory}
.post{height:100vh;position:relative;scroll-snap-align:start}
.post video,.post img{width:100%;height:100%;object-fit:cover}

/* ACTIONS */
.actions{
 position:absolute;right:12px;bottom:120px;
 display:flex;flex-direction:column;gap:14px;z-index:10
}
.actions button{
 width:48px;height:48px;border-radius:50%;
 border:none;background:rgba(0,0,0,.6);
 color:#fff;font-size:20px;cursor:pointer;position:relative
}
.actions span{position:absolute;top:-18px;font-size:12px}

/* BADGE */
.badge{
 position:absolute;bottom:-8px;right:-6px;
 background:gold;color:#000;font-size:10px;
 padding:2px 4px;border-radius:6px;
 animation:glow 1.5s infinite alternate
}
@keyframes glow{
 from{box-shadow:0 0 4px gold}
 to{box-shadow:0 0 12px gold}
}

/* HEART FLOAT */
.heart{
 position:absolute;right:90px;bottom:120px;
 font-size:18px;color:#ff4d6d;
 animation:float 2s forwards;pointer-events:none
}
@keyframes float{
 from{opacity:1;transform:translateY(0) scale(1)}
 to{opacity:0;transform:translateY(-160px) scale(1.6)}
}

/* POP+ */
#pop{
 position:fixed;inset:0;
 background:rgba(0,0,0,.96);
 display:none;flex-direction:column;
 z-index:99;padding:16px
}
#close{align-self:flex-end;font-size:22px;cursor:pointer}

/* TABS */
.tabs{display:flex;gap:10px;margin:10px 0}
.tabs button{
 flex:1;background:#020617;color:#fff;
 border:none;padding:8px;border-radius:6px
}
.tabs button.active{background:#22d3ee;color:#000}

/* LIST */
.list{
 flex:1;overflow-y:auto;
 background:#020617;border-radius:8px;padding:8px
}
.user{
 display:flex;justify-content:space-between;
 padding:6px;border-bottom:1px solid #111;font-size:14px
}
.user span{opacity:.6}
</style>
</head>

<body>

<div id="feed"></div>

<!-- POP+ -->
<div id="pop">
 <div id="close" onclick="togglePop(false)">‚úñ</div>
 <div id="status"></div>

 <div class="tabs">
  <button id="tabLike" class="active" onclick="showTab('like')">‚ù§Ô∏è Likers</button>
  <button id="tabNo" onclick="showTab('no')">üë§ Pas lik√©</button>
 </div>

 <div id="likeList" class="list"></div>
 <div id="noList" class="list" style="display:none"></div>
</div>

<script>
// USER LOCAL
const user="User"+Math.floor(Math.random()*999);

// POSTS
const posts=[
 {media:"https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4",type:"video",likes:5,likers:[]},
];

// FEED
const feed=document.getElementById("feed");

posts.forEach(p=>{
 const post=document.createElement("div");
 post.className="post";

 const m=p.type==="video"?document.createElement("video"):document.createElement("img");
 m.src=p.media;
 if(p.type==="video"){m.autoplay=true;m.loop=true;m.muted=true}
 post.appendChild(m);

 const actions=document.createElement("div");
 actions.className="actions";

 // LIKE
 const like=document.createElement("button");
 like.innerHTML="‚ù§Ô∏è";
 const count=document.createElement("span");
 count.innerText=p.likes;
 like.appendChild(count);

 like.onclick=()=>{
  if(!p.likers.includes(user)){
   p.likes++;
   p.likers.push(user);
   count.innerText=p.likes;
   spawnHeart(post);
   checkInfluencer(like,p);
  }
 };

 actions.appendChild(like);

 // POP+
 const popBtn=document.createElement("button");
 popBtn.innerHTML="‚ö°";
 popBtn.onclick=()=>openPop(p);
 actions.appendChild(popBtn);

 post.appendChild(actions);
 feed.appendChild(post);
});

// HEART
function spawnHeart(post){
 const h=document.createElement("div");
 h.className="heart";h.innerText="‚ù§Ô∏è";
 post.appendChild(h);
 setTimeout(()=>h.remove(),2000);
}

// BADGE
function checkInfluencer(btn,p){
 if(p.likes>=100 && !btn.querySelector(".badge")){
  const b=document.createElement("div");
  b.className="badge";
  b.innerText="Influenceur";
  btn.appendChild(b);
 }
}

// POP+
const pop=document.getElementById("pop");
const likeList=document.getElementById("likeList");
const noList=document.getElementById("noList");
const status=document.getElementById("status");

function togglePop(v){pop.style.display=v?"flex":"none"}

function openPop(p){
 togglePop(true);
 status.innerText=p.likes>=100?"üèÖ Influenceur":"üë§ Normal";

 likeList.innerHTML="";
 noList.innerHTML="";

 const exposed=[...Array(20)].map((_,i)=>"User"+(i+1));

 exposed.forEach(u=>{
  const div=document.createElement("div");
  div.className="user";
  div.innerHTML=u+" <span>"+(p.likers.includes(u)?"‚ù§Ô∏è":"‚Äî")+"</span>";
  (p.likers.includes(u)?likeList:noList).appendChild(div);
 });
}

// TABS
function showTab(t){
 document.getElementById("tabLike").classList.toggle("active",t==="like");
 document.getElementById("tabNo").classList.toggle("active",t==="no");
 likeList.style.display=t==="like"?"block":"none";
 noList.style.display=t==="no"?"block":"none";
}
</script>

</body>
</html>
